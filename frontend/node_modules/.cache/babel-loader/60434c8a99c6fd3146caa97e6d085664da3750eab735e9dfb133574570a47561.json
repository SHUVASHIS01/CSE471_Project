{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aneela\\\\Downloads\\\\CSE471JOBPortal_M3\\\\CSE471JOBPortal_M3\\\\frontend\\\\src\\\\components\\\\PersonalizedJobsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../AuthContext';\nimport { jobAPI, authAPI } from '../api';\nimport '../styles/Dashboard.css';\nimport '../styles/PersonalizedJobs.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PersonalizedJobsPage = () => {\n  _s();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  const [data, setData] = useState({\n    keywords: [],\n    personalized: [],\n    collaborative: [],\n    trends: [],\n    trendJobs: []\n  });\n  const [loading, setLoading] = useState(true);\n  const [keywordInput, setKeywordInput] = useState('');\n  const [isSaving, setIsSaving] = useState(false);\n\n  // Format date helper (simple version since date-fns not installed)\n  const formatDate = dateString => {\n    if (!dateString) return 'Recently';\n    try {\n      const date = new Date(dateString);\n      const now = new Date();\n      const diffMs = now - date;\n      const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n      if (diffDays === 0) return 'Today';\n      if (diffDays === 1) return '1 day ago';\n      if (diffDays < 7) return `${diffDays} days ago`;\n      if (diffDays < 30) {\n        const weeks = Math.floor(diffDays / 7);\n        return `${weeks} week${weeks > 1 ? 's' : ''} ago`;\n      }\n\n      // Format as \"Dec 8\" for older dates\n      const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n      return `${months[date.getMonth()]} ${date.getDate()}`;\n    } catch (e) {\n      return 'Recently';\n    }\n  };\n\n  // Fetch recommendations\n  const fetchRecommendations = async () => {\n    setLoading(true);\n    try {\n      console.log('Fetching recommendations...');\n      const response = await jobAPI.getRecommendations();\n      console.log('Recommendations response:', response);\n      console.log('Recommendations data:', response.data);\n\n      // Check if response has data\n      if (!response || !response.data) {\n        throw new Error('Invalid response from server');\n      }\n\n      // Ensure we have the expected structure\n      const recommendationsData = {\n        keywords: response.data.keywords || [],\n        personalized: response.data.personalized || [],\n        collaborative: response.data.collaborative || [],\n        trends: response.data.trends || [],\n        trendJobs: response.data.trendJobs || []\n      };\n      console.log('Setting recommendations data:', recommendationsData);\n      setData(recommendationsData);\n\n      // Pre-fill keywords input with profile keywords (what user has explicitly saved)\n      // Load from profile separately to show what user has saved\n      try {\n        var _profileResponse$data, _profileResponse$data2, _profileResponse$data3;\n        const profileResponse = await authAPI.getProfile();\n        const profileKeywords = ((_profileResponse$data = profileResponse.data) === null || _profileResponse$data === void 0 ? void 0 : (_profileResponse$data2 = _profileResponse$data.user) === null || _profileResponse$data2 === void 0 ? void 0 : _profileResponse$data2.profileKeywords) || ((_profileResponse$data3 = profileResponse.data) === null || _profileResponse$data3 === void 0 ? void 0 : _profileResponse$data3.profileKeywords) || [];\n        console.log('Loaded profile keywords for input:', profileKeywords);\n        if (profileKeywords.length > 0) {\n          setKeywordInput(profileKeywords.join(', '));\n        }\n      } catch (profileErr) {\n        console.error('Error loading profile keywords (non-critical):', profileErr);\n      }\n    } catch (err) {\n      var _err$response, _err$response2, _err$response3, _err$response4, _err$response4$data, _err$response5, _err$response5$data;\n      console.error('Error fetching recommendations:', err);\n      console.error('Error details:', {\n        message: err.message,\n        response: (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data,\n        status: (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status,\n        statusText: (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.statusText,\n        config: err.config\n      });\n\n      // Show more detailed error message\n      const errorMessage = ((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || ((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.error) || err.message || 'Failed to load recommendations. Please try again.';\n\n      // Don't show alert, just log and set empty data\n      console.error('Recommendations error:', errorMessage);\n\n      // Set empty data structure to prevent crashes\n      setData({\n        keywords: [],\n        personalized: [],\n        collaborative: [],\n        trends: [],\n        trendJobs: []\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Load user keywords on mount and fetch recommendations\n  useEffect(() => {\n    fetchRecommendations();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Handle keyword save\n  const handleSaveKeywords = async e => {\n    e.preventDefault();\n    setIsSaving(true);\n    try {\n      var _saveResponse$data, _saveResponse$data$us, _saveResponse$data2;\n      // Split by comma, trim, filter empty, and convert to lowercase\n      const keywords = keywordInput.split(',').map(k => k.trim().toLowerCase()).filter(k => k.length > 0);\n      if (keywords.length === 0) {\n        alert('Please enter at least one keyword');\n        setIsSaving(false);\n        return;\n      }\n      console.log('Saving keywords:', keywords);\n      const saveResponse = await authAPI.updateProfileKeywords(keywords);\n      console.log('Keywords save response:', saveResponse);\n\n      // Verify keywords were saved\n      const savedKeywords = ((_saveResponse$data = saveResponse.data) === null || _saveResponse$data === void 0 ? void 0 : (_saveResponse$data$us = _saveResponse$data.user) === null || _saveResponse$data$us === void 0 ? void 0 : _saveResponse$data$us.profileKeywords) || ((_saveResponse$data2 = saveResponse.data) === null || _saveResponse$data2 === void 0 ? void 0 : _saveResponse$data2.profileKeywords) || [];\n      console.log('Verified saved keywords:', savedKeywords);\n      if (savedKeywords.length === 0) {\n        console.warn('Warning: Keywords may not have been saved correctly');\n      }\n\n      // Update the input field to show the saved keywords (in case backend added/removed duplicates)\n      if (savedKeywords.length > 0) {\n        setKeywordInput(savedKeywords.join(', '));\n      }\n\n      // Show success message\n      alert(`Keywords saved successfully! Found ${savedKeywords.length} keywords: ${savedKeywords.join(', ')}. Loading recommendations...`);\n\n      // Immediately refetch recommendations - no delay needed as backend should have updated\n      console.log('Refetching recommendations after keyword save...');\n      await fetchRecommendations();\n      console.log('Recommendations refreshed after keyword save');\n    } catch (err) {\n      var _err$response6, _err$response7, _err$response8, _err$response8$data, _err$response9, _err$response9$data;\n      console.error('Error saving keywords:', err);\n      console.error('Error details:', {\n        message: err.message,\n        response: (_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : _err$response6.data,\n        status: (_err$response7 = err.response) === null || _err$response7 === void 0 ? void 0 : _err$response7.status\n      });\n      const message = ((_err$response8 = err.response) === null || _err$response8 === void 0 ? void 0 : (_err$response8$data = _err$response8.data) === null || _err$response8$data === void 0 ? void 0 : _err$response8$data.message) || ((_err$response9 = err.response) === null || _err$response9 === void 0 ? void 0 : (_err$response9$data = _err$response9.data) === null || _err$response9$data === void 0 ? void 0 : _err$response9$data.error) || err.message || 'Failed to save keywords';\n      alert(`Error saving keywords: ${message}`);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Handle apply\n  const handleApply = jobId => {\n    navigate(`/apply/${jobId}`);\n  };\n\n  // Handle logout\n  const handleLogout = async () => {\n    await logout();\n    navigate('/login');\n  };\n\n  // Check if job is in both personalized and trendJobs\n  const isPerfectMatch = jobId => {\n    const inPersonalized = data.personalized.some(j => j._id === jobId);\n    const inTrendJobs = data.trendJobs.some(j => j._id === jobId);\n    return inPersonalized && inTrendJobs;\n  };\n\n  // JobCard component\n  const JobCard = ({\n    job,\n    showHotBadge = false,\n    showPerfectMatch = false\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"job-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      children: [showPerfectMatch && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge-perfect-match\",\n        children: \"Perfect Match\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), showHotBadge && !showPerfectMatch && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge-hot-market\",\n        children: \"\\uD83D\\uDD25 Hot in Market\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: job.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"company\",\n      children: job.company\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"job-location-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"16\",\n        height: \"16\",\n        fill: \"currentColor\",\n        viewBox: \"0 0 16 16\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"location\",\n        children: job.location\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"description\",\n      children: [(job.description || '').substring(0, 150), \"...\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this), job.skills && job.skills.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skills-row\",\n      children: [job.skills.slice(0, 3).map((skill, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"skill-pill\",\n        children: skill\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }, this)), job.skills.length > 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"skill-pill\",\n        children: [\"+\", job.skills.length - 3]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"job-meta\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge\",\n        children: job.jobType || 'Full-time'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), job.salary && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"salary\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"14\",\n          height: \"14\",\n          fill: \"currentColor\",\n          viewBox: \"0 0 16 16\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), job.salary]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-apply-gradient\",\n      onClick: () => handleApply(job._id),\n      children: \"Apply Now\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n\n  // Loading skeleton\n  const SkeletonCard = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"job-card skeleton-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skeleton-line\",\n      style: {\n        width: '60%',\n        height: '24px',\n        marginBottom: '12px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skeleton-line\",\n      style: {\n        width: '40%',\n        height: '18px',\n        marginBottom: '16px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skeleton-line\",\n      style: {\n        width: '100%',\n        height: '14px',\n        marginBottom: '8px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skeleton-line\",\n      style: {\n        width: '90%',\n        height: '14px',\n        marginBottom: '8px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skeleton-line\",\n      style: {\n        width: '80%',\n        height: '14px',\n        marginBottom: '20px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skeleton-line\",\n      style: {\n        width: '100%',\n        height: '44px',\n        borderRadius: '12px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 256,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar-brand\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Job Portal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Welcome, \", user === null || user === void 0 ? void 0 : user.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"btn-logout\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"nav-btn active\",\n          onClick: () => navigate('/jobs'),\n          children: \"Browse Jobs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"nav-btn\",\n          onClick: () => navigate('/my-applications'),\n          children: \"My Applications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"personalized-jobs-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"personalized-jobs-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"personalized-jobs-title\",\n              children: \"Personalized Jobs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-back-to-jobs\",\n              onClick: () => navigate('/jobs'),\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"16\",\n                height: \"16\",\n                fill: \"currentColor\",\n                viewBox: \"0 0 16 16\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  fillRule: \"evenodd\",\n                  d: \"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this), \"Back to all jobs\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"personalized-jobs-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"personalized-jobs-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"glass-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"glass-card-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: \"Personalized suggestions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"glass-card-subtitle\",\n                    children: data.keywords && data.keywords.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [\"Using keywords: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: data.keywords.join(', ')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 318,\n                        columnNumber: 43\n                      }, this)]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [\"No keywords yet. \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Search for jobs or add keywords below\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 320,\n                        columnNumber: 44\n                      }, this), \" to get personalized recommendations.\"]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this), data.keywords && data.keywords.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"badge-purple\",\n                  children: \"Best match\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"glass-card-hint\",\n                  children: data.keywords && data.keywords.length > 0 ? 'These jobs match your search history, saved keywords, and current market trends from news articles.' : 'ðŸ’¡ Tip: Go to Browse Jobs, search for jobs you like, or add keywords in the form below to get personalized recommendations.'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 19\n                }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jobs-grid-small\",\n                  children: [/*#__PURE__*/_jsxDEV(SkeletonCard, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(SkeletonCard, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 21\n                }, this) : data.personalized && data.personalized.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jobs-grid-small\",\n                  children: data.personalized.map(job => /*#__PURE__*/_jsxDEV(JobCard, {\n                    job: job\n                  }, job._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"empty-state\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"No personalized matches yet.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      fontSize: '13px',\n                      marginTop: '8px',\n                      color: '#9ca3af'\n                    },\n                    children: data.keywords && data.keywords.length > 0 ? `We searched for jobs matching: ${data.keywords.join(', ')}. Try adding more keywords or check back later.` : 'Try adding keywords below or search for jobs in Browse Jobs page.'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 23\n                  }, this), loading === false && data.personalized && data.personalized.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      fontSize: '12px',\n                      marginTop: '12px',\n                      color: '#ef4444',\n                      fontStyle: 'italic'\n                    },\n                    children: \"\\uD83D\\uDCA1 Make sure you have searched for jobs in Browse Jobs page or added keywords below.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"glass-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"glass-card-header\",\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: \"People like you applied for\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 19\n                }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jobs-grid-small\",\n                  children: [/*#__PURE__*/_jsxDEV(SkeletonCard, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(SkeletonCard, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 21\n                }, this) : data.collaborative && data.collaborative.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jobs-grid-small\",\n                  children: data.collaborative.map(job => /*#__PURE__*/_jsxDEV(JobCard, {\n                    job: job\n                  }, job._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"empty-state\",\n                  children: \"No peer signals yet.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 17\n              }, this), data.trendJobs && data.trendJobs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"glass-card trending-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"glass-card-header\",\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: \"\\uD83D\\uDD25 Trending in the market right now\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 21\n                }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jobs-grid-small\",\n                  children: [/*#__PURE__*/_jsxDEV(SkeletonCard, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(SkeletonCard, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jobs-grid-small\",\n                  children: data.trendJobs.map(job => /*#__PURE__*/_jsxDEV(JobCard, {\n                    job: job,\n                    showHotBadge: true,\n                    showPerfectMatch: isPerfectMatch(job._id)\n                  }, job._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"personalized-jobs-sidebar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"glass-card sidebar-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"Job market trends\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 19\n                }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"trends-loading\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"muted\",\n                    children: \"Fetching the latest pulse...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 21\n                }, this) : data.trends && data.trends.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"trends-list\",\n                  children: data.trends.slice(0, 5).map((trend, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"trend-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"trend-headline\",\n                      children: trend.headline\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 424,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"trend-meta\",\n                      children: [trend.source, \" \\u2022 \", formatDate(trend.publishedAt)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"trend-summary\",\n                      children: trend.summary || 'No summary available'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: trend.url || '#',\n                      target: \"_blank\",\n                      rel: \"noreferrer\",\n                      className: \"trend-link\",\n                      children: \"Read more \\u2192\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 431,\n                      columnNumber: 27\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 423,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"muted\",\n                  children: \"No trends available at the moment.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                  className: \"keywords-form\",\n                  onSubmit: handleSaveKeywords,\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"keywords-input\",\n                    children: \"Add keywords so we can tailor matches:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"keywords-input\",\n                    type: \"text\",\n                    placeholder: \"react, remote, python, ai\",\n                    value: keywordInput,\n                    onChange: e => setKeywordInput(e.target.value),\n                    disabled: isSaving\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 450,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"btn-save-keywords\",\n                    disabled: isSaving,\n                    children: isSaving ? 'Saving...' : 'ðŸ’¾ Save keywords'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 458,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      fontSize: '12px',\n                      color: '#6b7280',\n                      marginTop: '8px',\n                      marginBottom: '0'\n                    },\n                    children: \"\\uD83D\\uDCA1 Separate keywords with commas. These will be used to find matching jobs.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n};\n_s(PersonalizedJobsPage, \"H4HtxkJrZeEJjZR5xK46Ee9seCI=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = PersonalizedJobsPage;\nexport default PersonalizedJobsPage;\nvar _c;\n$RefreshReg$(_c, \"PersonalizedJobsPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","jobAPI","authAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","PersonalizedJobsPage","_s","user","logout","navigate","data","setData","keywords","personalized","collaborative","trends","trendJobs","loading","setLoading","keywordInput","setKeywordInput","isSaving","setIsSaving","formatDate","dateString","date","Date","now","diffMs","diffDays","Math","floor","weeks","months","getMonth","getDate","e","fetchRecommendations","console","log","response","getRecommendations","Error","recommendationsData","_profileResponse$data","_profileResponse$data2","_profileResponse$data3","profileResponse","getProfile","profileKeywords","length","join","profileErr","error","err","_err$response","_err$response2","_err$response3","_err$response4","_err$response4$data","_err$response5","_err$response5$data","message","status","statusText","config","errorMessage","handleSaveKeywords","preventDefault","_saveResponse$data","_saveResponse$data$us","_saveResponse$data2","split","map","k","trim","toLowerCase","filter","alert","saveResponse","updateProfileKeywords","savedKeywords","warn","_err$response6","_err$response7","_err$response8","_err$response8$data","_err$response9","_err$response9$data","handleApply","jobId","handleLogout","isPerfectMatch","inPersonalized","some","j","_id","inTrendJobs","JobCard","job","showHotBadge","showPerfectMatch","className","children","style","position","fileName","_jsxFileName","lineNumber","columnNumber","title","company","width","height","fill","viewBox","d","location","description","substring","skills","slice","skill","idx","jobType","salary","onClick","SkeletonCard","marginBottom","borderRadius","name","fillRule","fontSize","marginTop","color","fontStyle","trend","headline","source","publishedAt","summary","href","url","target","rel","onSubmit","htmlFor","id","type","placeholder","value","onChange","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Aneela/Downloads/CSE471JOBPortal_M3/CSE471JOBPortal_M3/frontend/src/components/PersonalizedJobsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../AuthContext';\r\nimport { jobAPI, authAPI } from '../api';\r\nimport '../styles/Dashboard.css';\r\nimport '../styles/PersonalizedJobs.css';\r\n\r\nconst PersonalizedJobsPage = () => {\r\n  const { user, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [data, setData] = useState({\r\n    keywords: [],\r\n    personalized: [],\r\n    collaborative: [],\r\n    trends: [],\r\n    trendJobs: []\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [keywordInput, setKeywordInput] = useState('');\r\n  const [isSaving, setIsSaving] = useState(false);\r\n\r\n  // Format date helper (simple version since date-fns not installed)\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'Recently';\r\n    try {\r\n      const date = new Date(dateString);\r\n      const now = new Date();\r\n      const diffMs = now - date;\r\n      const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\r\n      \r\n      if (diffDays === 0) return 'Today';\r\n      if (diffDays === 1) return '1 day ago';\r\n      if (diffDays < 7) return `${diffDays} days ago`;\r\n      if (diffDays < 30) {\r\n        const weeks = Math.floor(diffDays / 7);\r\n        return `${weeks} week${weeks > 1 ? 's' : ''} ago`;\r\n      }\r\n      \r\n      // Format as \"Dec 8\" for older dates\r\n      const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n      return `${months[date.getMonth()]} ${date.getDate()}`;\r\n    } catch (e) {\r\n      return 'Recently';\r\n    }\r\n  };\r\n\r\n  // Fetch recommendations\r\n  const fetchRecommendations = async () => {\r\n    setLoading(true);\r\n    try {\r\n      console.log('Fetching recommendations...');\r\n      const response = await jobAPI.getRecommendations();\r\n      console.log('Recommendations response:', response);\r\n      console.log('Recommendations data:', response.data);\r\n      \r\n      // Check if response has data\r\n      if (!response || !response.data) {\r\n        throw new Error('Invalid response from server');\r\n      }\r\n      \r\n      // Ensure we have the expected structure\r\n      const recommendationsData = {\r\n        keywords: response.data.keywords || [],\r\n        personalized: response.data.personalized || [],\r\n        collaborative: response.data.collaborative || [],\r\n        trends: response.data.trends || [],\r\n        trendJobs: response.data.trendJobs || []\r\n      };\r\n      \r\n      console.log('Setting recommendations data:', recommendationsData);\r\n      setData(recommendationsData);\r\n      \r\n      // Pre-fill keywords input with profile keywords (what user has explicitly saved)\r\n      // Load from profile separately to show what user has saved\r\n      try {\r\n        const profileResponse = await authAPI.getProfile();\r\n        const profileKeywords = profileResponse.data?.user?.profileKeywords || profileResponse.data?.profileKeywords || [];\r\n        console.log('Loaded profile keywords for input:', profileKeywords);\r\n        if (profileKeywords.length > 0) {\r\n          setKeywordInput(profileKeywords.join(', '));\r\n        }\r\n      } catch (profileErr) {\r\n        console.error('Error loading profile keywords (non-critical):', profileErr);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching recommendations:', err);\r\n      console.error('Error details:', {\r\n        message: err.message,\r\n        response: err.response?.data,\r\n        status: err.response?.status,\r\n        statusText: err.response?.statusText,\r\n        config: err.config\r\n      });\r\n      \r\n      // Show more detailed error message\r\n      const errorMessage = err.response?.data?.message || \r\n                          err.response?.data?.error || \r\n                          err.message || \r\n                          'Failed to load recommendations. Please try again.';\r\n      \r\n      // Don't show alert, just log and set empty data\r\n      console.error('Recommendations error:', errorMessage);\r\n      \r\n      // Set empty data structure to prevent crashes\r\n      setData({\r\n        keywords: [],\r\n        personalized: [],\r\n        collaborative: [],\r\n        trends: [],\r\n        trendJobs: []\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Load user keywords on mount and fetch recommendations\r\n  useEffect(() => {\r\n    fetchRecommendations();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Handle keyword save\r\n  const handleSaveKeywords = async (e) => {\r\n    e.preventDefault();\r\n    setIsSaving(true);\r\n    \r\n    try {\r\n      // Split by comma, trim, filter empty, and convert to lowercase\r\n      const keywords = keywordInput\r\n        .split(',')\r\n        .map(k => k.trim().toLowerCase())\r\n        .filter(k => k.length > 0);\r\n      \r\n      if (keywords.length === 0) {\r\n        alert('Please enter at least one keyword');\r\n        setIsSaving(false);\r\n        return;\r\n      }\r\n      \r\n      console.log('Saving keywords:', keywords);\r\n      const saveResponse = await authAPI.updateProfileKeywords(keywords);\r\n      console.log('Keywords save response:', saveResponse);\r\n      \r\n      // Verify keywords were saved\r\n      const savedKeywords = saveResponse.data?.user?.profileKeywords || saveResponse.data?.profileKeywords || [];\r\n      console.log('Verified saved keywords:', savedKeywords);\r\n      \r\n      if (savedKeywords.length === 0) {\r\n        console.warn('Warning: Keywords may not have been saved correctly');\r\n      }\r\n      \r\n      // Update the input field to show the saved keywords (in case backend added/removed duplicates)\r\n      if (savedKeywords.length > 0) {\r\n        setKeywordInput(savedKeywords.join(', '));\r\n      }\r\n      \r\n      // Show success message\r\n      alert(`Keywords saved successfully! Found ${savedKeywords.length} keywords: ${savedKeywords.join(', ')}. Loading recommendations...`);\r\n      \r\n      // Immediately refetch recommendations - no delay needed as backend should have updated\r\n      console.log('Refetching recommendations after keyword save...');\r\n      await fetchRecommendations();\r\n      \r\n      console.log('Recommendations refreshed after keyword save');\r\n    } catch (err) {\r\n      console.error('Error saving keywords:', err);\r\n      console.error('Error details:', {\r\n        message: err.message,\r\n        response: err.response?.data,\r\n        status: err.response?.status\r\n      });\r\n      \r\n      const message = err.response?.data?.message || \r\n                     err.response?.data?.error || \r\n                     err.message || \r\n                     'Failed to save keywords';\r\n      alert(`Error saving keywords: ${message}`);\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  // Handle apply\r\n  const handleApply = (jobId) => {\r\n    navigate(`/apply/${jobId}`);\r\n  };\r\n\r\n  // Handle logout\r\n  const handleLogout = async () => {\r\n    await logout();\r\n    navigate('/login');\r\n  };\r\n\r\n  // Check if job is in both personalized and trendJobs\r\n  const isPerfectMatch = (jobId) => {\r\n    const inPersonalized = data.personalized.some(j => j._id === jobId);\r\n    const inTrendJobs = data.trendJobs.some(j => j._id === jobId);\r\n    return inPersonalized && inTrendJobs;\r\n  };\r\n\r\n  // JobCard component\r\n  const JobCard = ({ job, showHotBadge = false, showPerfectMatch = false }) => (\r\n    <div className=\"job-card\">\r\n      <div style={{ position: 'relative' }}>\r\n        {showPerfectMatch && (\r\n          <span className=\"badge-perfect-match\">Perfect Match</span>\r\n        )}\r\n        {showHotBadge && !showPerfectMatch && (\r\n          <span className=\"badge-hot-market\">ðŸ”¥ Hot in Market</span>\r\n        )}\r\n      </div>\r\n      <h3>{job.title}</h3>\r\n      <p className=\"company\">{job.company}</p>\r\n      <div className=\"job-location-row\">\r\n        <svg width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n          <path d=\"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>\r\n        </svg>\r\n        <span className=\"location\">{job.location}</span>\r\n      </div>\r\n      <p className=\"description\">\r\n        {(job.description || '').substring(0, 150)}...\r\n      </p>\r\n      {job.skills && job.skills.length > 0 && (\r\n        <div className=\"skills-row\">\r\n          {job.skills.slice(0, 3).map((skill, idx) => (\r\n            <span key={idx} className=\"skill-pill\">{skill}</span>\r\n          ))}\r\n          {job.skills.length > 3 && (\r\n            <span className=\"skill-pill\">+{job.skills.length - 3}</span>\r\n          )}\r\n        </div>\r\n      )}\r\n      <div className=\"job-meta\">\r\n        <span className=\"badge\">{job.jobType || 'Full-time'}</span>\r\n        {job.salary && (\r\n          <span className=\"salary\">\r\n            <svg width=\"14\" height=\"14\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n              <path d=\"M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z\"/>\r\n            </svg>\r\n            {job.salary}\r\n          </span>\r\n        )}\r\n      </div>\r\n      <button\r\n        className=\"btn-apply-gradient\"\r\n        onClick={() => handleApply(job._id)}\r\n      >\r\n        Apply Now\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  // Loading skeleton\r\n  const SkeletonCard = () => (\r\n    <div className=\"job-card skeleton-card\">\r\n      <div className=\"skeleton-line\" style={{ width: '60%', height: '24px', marginBottom: '12px' }}></div>\r\n      <div className=\"skeleton-line\" style={{ width: '40%', height: '18px', marginBottom: '16px' }}></div>\r\n      <div className=\"skeleton-line\" style={{ width: '100%', height: '14px', marginBottom: '8px' }}></div>\r\n      <div className=\"skeleton-line\" style={{ width: '90%', height: '14px', marginBottom: '8px' }}></div>\r\n      <div className=\"skeleton-line\" style={{ width: '80%', height: '14px', marginBottom: '20px' }}></div>\r\n      <div className=\"skeleton-line\" style={{ width: '100%', height: '44px', borderRadius: '12px' }}></div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <nav className=\"navbar\">\r\n        <div className=\"navbar-brand\">\r\n          <h1>Job Portal</h1>\r\n        </div>\r\n        <div className=\"navbar-info\">\r\n          <span>Welcome, {user?.name}</span>\r\n          <button onClick={handleLogout} className=\"btn-logout\">Logout</button>\r\n        </div>\r\n      </nav>\r\n\r\n      <div className=\"dashboard-content\">\r\n        <div className=\"sidebar\">\r\n          <button\r\n            className=\"nav-btn active\"\r\n            onClick={() => navigate('/jobs')}\r\n          >\r\n            Browse Jobs\r\n          </button>\r\n          <button\r\n            className=\"nav-btn\"\r\n            onClick={() => navigate('/my-applications')}\r\n          >\r\n            My Applications\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"main-content\">\r\n          <div className=\"personalized-jobs-container\">\r\n            <div className=\"personalized-jobs-header\">\r\n              <h1 className=\"personalized-jobs-title\">Personalized Jobs</h1>\r\n              <button\r\n                className=\"btn-back-to-jobs\"\r\n                onClick={() => navigate('/jobs')}\r\n              >\r\n                <svg width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                  <path fillRule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"/>\r\n                </svg>\r\n                Back to all jobs\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"personalized-jobs-grid\">\r\n              {/* Left Column - Recommendations */}\r\n              <div className=\"personalized-jobs-left\">\r\n                {/* Card 1: Personalized suggestions */}\r\n                <div className=\"glass-card\">\r\n                  <div className=\"glass-card-header\">\r\n                    <h2>Personalized suggestions</h2>\r\n                    <p className=\"glass-card-subtitle\">\r\n                      {data.keywords && data.keywords.length > 0 ? (\r\n                        <>Using keywords: <strong>{data.keywords.join(', ')}</strong></>\r\n                      ) : (\r\n                        <>No keywords yet. <strong>Search for jobs or add keywords below</strong> to get personalized recommendations.</>\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                  {data.keywords && data.keywords.length > 0 && (\r\n                    <div className=\"badge-purple\">Best match</div>\r\n                  )}\r\n                  <p className=\"glass-card-hint\">\r\n                    {data.keywords && data.keywords.length > 0 \r\n                      ? 'These jobs match your search history, saved keywords, and current market trends from news articles.'\r\n                      : 'ðŸ’¡ Tip: Go to Browse Jobs, search for jobs you like, or add keywords in the form below to get personalized recommendations.'}\r\n                  </p>\r\n                  \r\n                  {loading ? (\r\n                    <div className=\"jobs-grid-small\">\r\n                      <SkeletonCard />\r\n                      <SkeletonCard />\r\n                    </div>\r\n                  ) : data.personalized && data.personalized.length > 0 ? (\r\n                    <div className=\"jobs-grid-small\">\r\n                      {data.personalized.map(job => (\r\n                        <JobCard key={job._id} job={job} />\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"empty-state\">\r\n                      <p>No personalized matches yet.</p>\r\n                      <p style={{ fontSize: '13px', marginTop: '8px', color: '#9ca3af' }}>\r\n                        {data.keywords && data.keywords.length > 0 \r\n                          ? `We searched for jobs matching: ${data.keywords.join(', ')}. Try adding more keywords or check back later.`\r\n                          : 'Try adding keywords below or search for jobs in Browse Jobs page.'}\r\n                      </p>\r\n                      {loading === false && data.personalized && data.personalized.length === 0 && (\r\n                        <p style={{ fontSize: '12px', marginTop: '12px', color: '#ef4444', fontStyle: 'italic' }}>\r\n                          ðŸ’¡ Make sure you have searched for jobs in Browse Jobs page or added keywords below.\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Card 2: People like you applied for */}\r\n                <div className=\"glass-card\">\r\n                  <div className=\"glass-card-header\">\r\n                    <h2>People like you applied for</h2>\r\n                  </div>\r\n                  \r\n                  {loading ? (\r\n                    <div className=\"jobs-grid-small\">\r\n                      <SkeletonCard />\r\n                      <SkeletonCard />\r\n                    </div>\r\n                  ) : data.collaborative && data.collaborative.length > 0 ? (\r\n                    <div className=\"jobs-grid-small\">\r\n                      {data.collaborative.map(job => (\r\n                        <JobCard key={job._id} job={job} />\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    <p className=\"empty-state\">No peer signals yet.</p>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Card 3: Trending in the market right now */}\r\n                {data.trendJobs && data.trendJobs.length > 0 && (\r\n                  <div className=\"glass-card trending-card\">\r\n                    <div className=\"glass-card-header\">\r\n                      <h2>ðŸ”¥ Trending in the market right now</h2>\r\n                    </div>\r\n                    \r\n                    {loading ? (\r\n                      <div className=\"jobs-grid-small\">\r\n                        <SkeletonCard />\r\n                        <SkeletonCard />\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"jobs-grid-small\">\r\n                        {data.trendJobs.map(job => (\r\n                          <JobCard\r\n                            key={job._id}\r\n                            job={job}\r\n                            showHotBadge={true}\r\n                            showPerfectMatch={isPerfectMatch(job._id)}\r\n                          />\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Right Column - Sticky Sidebar */}\r\n              <div className=\"personalized-jobs-sidebar\">\r\n                <div className=\"glass-card sidebar-card\">\r\n                  <h2>Job market trends</h2>\r\n                  \r\n                  {loading ? (\r\n                    <div className=\"trends-loading\">\r\n                      <p className=\"muted\">Fetching the latest pulse...</p>\r\n                    </div>\r\n                  ) : data.trends && data.trends.length > 0 ? (\r\n                    <div className=\"trends-list\">\r\n                      {data.trends.slice(0, 5).map((trend, idx) => (\r\n                        <div key={idx} className=\"trend-item\">\r\n                          <h4 className=\"trend-headline\">{trend.headline}</h4>\r\n                          <p className=\"trend-meta\">\r\n                            {trend.source} â€¢ {formatDate(trend.publishedAt)}\r\n                          </p>\r\n                          <p className=\"trend-summary\">\r\n                            {trend.summary || 'No summary available'}\r\n                          </p>\r\n                          <a\r\n                            href={trend.url || '#'}\r\n                            target=\"_blank\"\r\n                            rel=\"noreferrer\"\r\n                            className=\"trend-link\"\r\n                          >\r\n                            Read more â†’\r\n                          </a>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    <p className=\"muted\">No trends available at the moment.</p>\r\n                  )}\r\n\r\n                  <form className=\"keywords-form\" onSubmit={handleSaveKeywords}>\r\n                    <label htmlFor=\"keywords-input\">\r\n                      Add keywords so we can tailor matches:\r\n                    </label>\r\n                    <input\r\n                      id=\"keywords-input\"\r\n                      type=\"text\"\r\n                      placeholder=\"react, remote, python, ai\"\r\n                      value={keywordInput}\r\n                      onChange={(e) => setKeywordInput(e.target.value)}\r\n                      disabled={isSaving}\r\n                    />\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"btn-save-keywords\"\r\n                      disabled={isSaving}\r\n                    >\r\n                      {isSaving ? 'Saving...' : 'ðŸ’¾ Save keywords'}\r\n                    </button>\r\n                    <p style={{ fontSize: '12px', color: '#6b7280', marginTop: '8px', marginBottom: '0' }}>\r\n                      ðŸ’¡ Separate keywords with commas. These will be used to find matching jobs.\r\n                    </p>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonalizedJobsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}